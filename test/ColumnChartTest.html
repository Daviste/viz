<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Vizuly 2.0 - Column Chart</title>

    <!-- We use google fonts for many of the examples, but they are not necessary -->
    <link href='https://fonts.googleapis.com/css?family=Raleway:600,400,200' rel='stylesheet' type='text/css'>

    <!-- vizuly2.specific style sheets -->
    <link rel="stylesheet" href="../lib/styles/vizuly.css">

    <script src="../lib/d3_v5.7.min.js"></script>

    <script src="../lib/vizuly2_core.min.js"></script>
    <script src="../src/ColumnChart.js"></script>
</head>

<body>

<!--div id="stylesList" style="width:260px; top:100px; margin-left:30px; position:absolute;">
    <div style="font-weight:bold">STYLE EXPLORER</div>
    <div style="font-style:italic; font-size:12px; margin-bottom:20px">mouse over any style to see it in action</div>
</div-->

<!-- Our main content container-->
<div class="container" style="width:100%">
    <div id="viz_container" class="z-depth-3" style="width:600px; height:600px; border-radius:10px; overflow:hidden">
    </div>
</div>

<!-- DEMO CODE:START -->
<link rel="stylesheet" href="demo/scripts/cssmenu.css">
<script type="text/javascript" src="demo/scripts/jquery-2.1.1.min.js"></script>
<script src="demo/scripts/cssmenu.js"></script>
<script src="demo/ColumnChartDemo.js"></script>
<!-- DEMO CODE: END -->

<script id="testscript">

	// our radial components and an array to hold them
	var viz = vizuly2.viz.ColumnChart("#viz_container");

	var data = {};

	var initialize = function () {

		d3.json("data/columnchart_olympics.json").then(function (json) {

			data = json;

			var countries = ['USA', 'USSR', 'GB', 'GER', 'FR', 'ITL', 'SWE', 'CHINA', 'RU', 'E. GER' ]

            viz.data(data)
            // .margin({top: 10, bottom: 10, left:10, right:10})
             .width('100%').height('100%')     //initial component display size
             .y(function (d, i)
             { return Number(d.value); })    //property for x axis plot
             .x(function (d, i, index)
             { return d.country; })
           //  { return countries.indexOf(d.country); })          //property for y axis plot
             .seriesLabel(function (d)
             { return d.category; })
            // .barWidth('10%')
            // .barPadding(2)
            // .groupPadding('100%')
             .on('mouseover', onMouseOver)
             .on('mouseout', onMouseOut)
             .on('initialized',function () { console.log("INTIALIXED" + this.id())});

            viz.update();

			if (runDemo) runDemo();

		});
	};

    function onMouseOver(e, d, i, j) {
        console.log('onMouseOver ' + d.country + ' series = ' + i + ' index = ' + j)
    }

    function onMouseOut(e, d, i, j) {
        console.log('onMouseOut ' + d.country + ' series = ' + i + ' index = ' + j)
    };


	initialize();

</script>

</body>

</html>
