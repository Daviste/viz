<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>vizuly2.- Radial Progress</title>

    <!-- We use google fonts for many of the examples, but they are not necessary -->
    <link href='https://fonts.googleapis.com/css?family=Raleway:600,400,200' rel='stylesheet' type='text/css'>

    <!-- vizuly2.specific style sheets -->
    <link rel="stylesheet" href="../lib/styles/vizuly.css">

    <script src="../lib/d3.min.js"></script>

    <script src="../lib/vizuly2_core.min.js"></script>
    <script src="../src/RadialProgress.js"></script>
</head>

<body>

<!-- Our main content container-->
<div class="container" style="width:100%;">
    <div id="viz_container" class="z-depth-3" style="border-radius:10px; overflow:hidden; margin:0px auto; background:linear-gradient(to bottom, #403030, #404040, #303030, #202020)"></div>
</div>


<!-- DEMO CODE:START -->
<link rel="stylesheet" href="demo/scripts/cssmenu.css">
<script type="text/javascript" src="demo/scripts/jquery-2.1.1.min.js"></script>
<script src="demo/scripts/cssmenu.js"></script>
<script src="demo/RadialProgressDemo.js"></script>
<!-- DEMO CODE: END -->

<script id="testscript">

	// our radial components and an array to hold them
	var viz = vizuly2.viz.RadialProgress(document.getElementById("viz_container"));

	var initialize = function () {


		//Here we want to animate the label value by capturin the tween event
		//that occurs when the component animates the value arcs.
		function onTween(i) {
			this.selection().selectAll(".vz-radial_progress-label")
				.text(this.label()(this.data() * i));
		}

		function onMouseOver(viz, d, i) {
			console.log("onMouseOver()")
			//We can capture mouse over events and respond to them
		}

		function onMouseOut(viz, d, i) {
			console.log("onMouseOut()")
			//We can capture mouse out events and respond to them
		}

		function onClick(viz, d, i) {
			console.log("onClick()")
			//We can capture click events and respond to them
		}


		//Like D3 and jQuery, vizuly2.uses a function chaining syntax to set component properties
		//Here we set some bases line properties for all three components.
		viz.data(80)                            // Current value
				.height(300)                    // Height of component - radius is calculated automatically for us
				.min(0)                         // min value
				.max(100)                       // max value
				.capRadius(1)                   // Sets the curvature of the ends of the arc.
				.on("tween", onTween)            // On the arc animation we create a callback to update the label
				.on("mouseover", onMouseOver)    // mouseover callback - all viz components issue these events
				.on("mouseout", onMouseOut)      // mouseout callback - all viz components issue these events
				.on("click", onClick);           // mouseout callback - all viz components issue these events

		//
		// Now we set some unique properties for all three components to demonstrate the different settings.
		//
		viz.data(80)
			.startAngle(250)                         // Angle where progress bar starts
			.endAngle(110)                           // Angle where the progress bar stops
			.arcThickness(.12)                        // The thickness of the arc (ratio of radius)
			.label(function (d, i) {                  // The 'label' property allows us to use a dynamic function for labeling.
				return d3.format(".0f")(d);
			})
			.update();

		if (runDemo) runDemo();
	};

	initialize();

</script>

</body>

</html>
