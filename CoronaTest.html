<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Vizuly 2.0 - Corona Chart</title>

    <link href='https://fonts.googleapis.com/css?family=Roboto|Raleway:600,400,200' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" href="lib/styles/vizuly.css">

    <script src="lib/d3_v5.7.min.js"></script>

    <script src="lib/vizuly2_core.min.js"></script>
    <script src="src/Corona.js"></script>
    <script src="data/corona_data.js"></script>

    <!-- DEMO CODE:START -->
    <link rel="stylesheet" href="demo/scripts/cssmenu.css">
    <script type="text/javascript" src="demo/scripts/jquery-2.1.1.min.js"></script>
    <script src="demo/scripts/cssmenu.js"></script>
    <script src="demo/CoronaDemo.js"></script>
    <!-- DEMO CODE: END -->

</head>

<body>

<!-- Our main content container-->
<div class="container" style="width:100%;">
    <div id="viz_container" class="z-depth-3" style="width:600px; height:600px; border-radius:10px; overflow:hidden">
    </div>
</div>
<div style="position:absolute; bottom:10px; right:10px; font-size:10px; color:#777"><span>v.</span> 2.1.220 - @date</div>

<script id="testscript">

	var viz = vizuly2.viz.Corona("#viz_container");

	viz.data(data)
	 .width('100%')
	 .height('100%')
	 .outerRadius('43%')
	 .innerRadius('22%')
	 .y(function (d, i) {
		 return d.views;                     //Value to use for the radius (y)
	 })
	 .x(function (d, i) {
		 return d.hour;                      //Value to use fo the angle (x)
	 })
	 .seriesLabel(function (d) { return d.page })
	 .xTickFormat(function (d) { return convertTime(d)})
	 .xTickCount(8)
	 .yTickFormat(function (d) { return d + " views"})
	 .yTickCount(6)
	 .on("mouseover", onMouseOver)           //Called on each datatip mouseover
	 .on("mouseout", onMouseOut)             //Called on each datatip mouseout


	viz.update();

	//Formats the time labels for yAxis
	function convertTime(h) {
		if (h == 0) return ("12 am");
		if (h == 12) return ("12 pm");
		return (h < 12) ? h + " am" : (h - 12) + " pm";
	}

	function onMouseOver(d, i) {

	}

	function onMouseOut(d, i) {

	}

	if (runDemo) runDemo();

</script>

</body>


</html>
